Maybe use [flood fill?](http://en.wikipedia.org/wiki/Flood_fill)
